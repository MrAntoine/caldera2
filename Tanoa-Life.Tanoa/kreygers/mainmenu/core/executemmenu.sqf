/*
	჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻
	჻჻
	჻჻  ELYVION | HOLDING - (Previously Kreygers | Group)
	჻჻
	჻჻  Description : Starts executing the Main Menu (WARNING PROBLEM WITH THE ENTER KEY NOT WORKING. TO BE ADJUSTED)
	჻჻
	჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻჻
*/

//private _erreur = _this select 0;

enableEnvironment [false, false];

createDialog "mainmenu01";


//findDisplay 5152100 displayRemoveEventHandler ["keyDown","hint str _this"];
//(findDisplay 46) displayAddEventHandler ["KeyDown", "if ((_this select 1 in (actionKeys 'ingamePause')) then { true }"];
//(findDisplay (uiNamespace getVariable "mainmenu01")) displayAddEventHandler ["KeyDown", "if ((_this select 1 in [1])) then { true }"];

//(findDisplay 46 displayAddEventHandler ["KeyDown", "if ((_this select 1 in [1])) then { true }"];

//(findDisplay 46) displayAddEventHandler ["KeyDown", "if ((_this select 1 == 1)) then { true }"];
(findDisplay 5152100) displayAddEventHandler ["KeyDown", "if ((_this select 1 in [1,14,28,156,57])) then { true }"];


((uiNamespace getVariable "mainmenu01")displayCtrl 0002) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0003) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0004) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 00015) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 00046) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 00047) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0005) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0006) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0007) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0008) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0009) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0010) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0011) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0012) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0013) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 001101) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 001102) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 001103) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 9999) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0016) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0017) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0018) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0019) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0020) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 000191) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 000192) ctrlShow false;
((uiNamespace getVariable "mainmenu01")displayCtrl 000193) ctrlShow false;

((uiNamespace getVariable "mainmenu01")displayCtrl 00015) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 00015) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0003) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0003) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0004) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0004) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 00046) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 00046) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 00047) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 00047) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0005) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0005) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0006) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0006) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0007) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0007) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0008) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0008) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0009) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0009) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0010) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0010) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0011) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0011) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0012) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0012) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0013) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0013) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0016) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0016) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0017) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0017) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0018) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0018) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0019) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0019) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0020) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0020) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 001101) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 001101) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 001102) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 001102) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 001103) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 001103) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 000191) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 000191) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 000192) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 000192) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 000193) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 000193) ctrlCommit 0;

((uiNamespace getVariable "mainmenu01")displayCtrl 0002) ctrlEnable false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0003) ctrlEnable false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0006) ctrlEnable false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0007) ctrlEnable false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0008) ctrlEnable false;
((uiNamespace getVariable "mainmenu01")displayCtrl 0009) ctrlEnable false;

((uiNamespace getVariable "mainmenu01")displayCtrl 0001) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\BlackBackground.jpg";
sleep 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0001) ctrlSetText "";

["\Caldera_Client_Texture\Data\main_menu\video\Preyintro.ogv"] call BIS_fnc_playVideo;

((uiNamespace getVariable "mainmenu01")displayCtrl 0001) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\BlackBackground.jpg";


// Avertissement
sleep 0.5;

((uiNamespace getVariable "mainmenu01")displayCtrl 0002) ctrlShow true;
((uiNamespace getVariable "mainmenu01")displayCtrl 0002) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0002) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0002) ctrlSetFade 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0002) ctrlCommit 3;

sleep 5.5;

((uiNamespace getVariable "mainmenu01")displayCtrl 0002) ctrlSetFade 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0002) ctrlCommit 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0002) ctrlSetFade 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0002) ctrlCommit 1.5;
//// Fin avertissement


sleep 1.5;

((uiNamespace getVariable "mainmenu01")displayCtrl 0001) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\BlackBackground.jpg";

sleep 1;

((uiNamespace getVariable "mainmenu01")displayCtrl 0002) ctrlShow true;


// Cliquez pour continuer

((uiNamespace getVariable "mainmenu01")displayCtrl 00015) ctrlShow true;
((uiNamespace getVariable "mainmenu01")displayCtrl 00015) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\WhiteBackground.jpg";
((uiNamespace getVariable "mainmenu01")displayCtrl 00015) ctrlSetFade 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 00015) ctrlCommit 1;

playMusic "MusicStart01";
//playmusicmenustart = addMusicEventHandler ["MusicStop", { playMusic "MusicStart01"; }];

player setVariable ["animatedbackgroundactive", 1, true];

[] spawn {
	while { true } do {
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0001.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0002.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0003.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0004.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0005.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0006.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0007.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0008.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0009.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0010.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0011.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0012.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0013.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0014.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0015.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0016.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0017.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0018.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0019.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0020.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0021.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0022.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0023.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0024.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0025.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0026.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0027.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0028.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0029.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0030.jpg";
			sleep 0.05;
			((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetText "Caldera_Client_Texture\Data\main_menu\textures\animatedbackground\img0031.jpg";
			if ((player getVariable "animatedbackgroundactive") isEqualTo 0) exitWith {};
		};
};

sleep 1;

((uiNamespace getVariable "mainmenu01")displayCtrl 0001) ctrlShow false;


((uiNamespace getVariable "mainmenu01")displayCtrl 0003) ctrlShow true;
((uiNamespace getVariable "mainmenu01")displayCtrl 0003) ctrlSetFade 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0003) ctrlCommit 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 0004) ctrlShow true;
((uiNamespace getVariable "mainmenu01")displayCtrl 0004) ctrlSetFade 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 0004) ctrlCommit 1;
((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlShow true;
((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlSetFade 0;
((uiNamespace getVariable "mainmenu01")displayCtrl 00030) ctrlCommit 1;


// on autorise le clavier et souris
disableUserInput false;


// on bloque echape:

//(findDisplay 46) displayAddEventHandler ["KeyDown", "if ((_this select 1 in (actionKeys 'ingamePause')) then { true }"];

// ON autorise l'appuie sur entrer


(findDisplay 5152100) displayAddEventHandler ["KeyDown", "if ((_this select 1) == 28) then { [] execVM ""kreygers\mainmenu\core\mmenupart01.sqf""; };"];

/*
DIK_RETURN = (findDisplay 46) displayAddEventHandler ["KeyDown", "if ((_this select 1) == 28) then { [] execVM ""kreygers\mainmenu\core\mmenupart01.sqf""; };"];
*/






// On attend 10 secondes pour arriver à l'alerte petit écran.
sleep 10;


/*
if(_erreur == 0) then{
	[] execVM "kreygers\mainmenu\core\mmenupart03.sqf";
	Enter_keyDownEHId = (findDisplay 46) displayAddEventHandler ["KeyDown", "if ((_this select 1) == 28) then { [] execVM ""kreygers\mainmenu\core\mmenupart03.sqf""; };"];
};
*/


// On affiche les messages d'alertes / erreurs
	[] execVM "kreygers\mainmenu\core\mmenupart01.sqf";




